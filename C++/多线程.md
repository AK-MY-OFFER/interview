# 多线程

## 问题

atomic，它的非原子情况

atomic 怎么实现的

C++11 创建线程方法

C++ 11 互斥锁

CAS 怎么保证原子性

C++11用过哪些锁，lockGurd和uniqueLock有什么不同

volatile 关键字的作用

请简述一下atomoic内存顺序。



##  回答

#### 谈谈 atomic、volatile、register 的作用





volatile 关键字是一种类型修饰符，用它声明的类型变量表示可以被某些编译器未知的因素更改，比如：操作系统、硬件或者其它线程等。遇到这个关键字声明的变量，编译器对访问该变量的代码就不再进行优化，从而可以提供对特殊地址的稳定访问。声明时语法：int volatile vInt; 当要求使用 volatile 声明的变量的值的时候，系统总是重新从它所在的内存读取数据，即使它前面的指令刚刚从该处读取过数据。而且读取的数据立刻被保存。

 

volatile用在如下的几个地方：

\1) 中断服务程序中修改的供其它程序检测的变量需要加volatile；

 \2) 多任务环境下各任务间共享的标志应该加volatile； 

\3) 存储器映射的硬件寄存器通常也要加volatile说明，因为每次对它的读写都可能由不同意义；



## 

register关键字：这个关键字请求编译器尽可能的将变量存在CPU内部寄存器中，而不是通过内存寻址访问，以提高效率